Version 4
SHEET 1 1444 680
WIRE 176 -16 64 -16
WIRE 320 -16 256 -16
WIRE 320 32 320 -16
WIRE 384 32 320 32
WIRE 496 32 464 32
WIRE 544 32 496 32
WIRE 544 48 544 32
WIRE 704 48 704 32
WIRE 496 80 496 32
WIRE 496 80 432 80
WIRE 944 80 944 -32
WIRE 64 96 64 -16
WIRE 192 96 64 96
WIRE 320 96 320 32
WIRE 320 96 256 96
WIRE 432 112 432 80
WIRE 64 144 64 96
WIRE 544 176 544 112
WIRE 704 176 704 128
WIRE 944 208 944 160
WIRE 432 224 432 192
WIRE 64 240 64 224
FLAG 64 240 0
FLAG 704 176 0
FLAG 944 208 0
FLAG 944 -32 ctrl
FLAG 544 176 0
FLAG 432 224 0
SYMBOL voltage 64 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL current 176 -16 R270
WINDOW 0 32 40 VTop 2
WINDOW 3 -32 40 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 1A
SYMBOL diode 256 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value IdealDiode
SYMBOL res 688 32 R0
SYMATTR InstName R1
SYMATTR Value R=V(ctrl)
SYMBOL voltage 944 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(1 10 0 0.1 0.1 0.0001 0.2)
SYMBOL cap 528 48 R0
SYMATTR InstName C1
SYMATTR Value 100m
SYMBOL res 480 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1
SYMBOL res 416 96 R0
SYMATTR InstName R3
SYMATTR Value 10
TEXT 456 512 Left 2 !.tran 1 startup
TEXT 40 352 Left 2 !.model IdealDiode D(Vfwd=0.01m)
